# æµ·æ£ ä¼ä¸šç®¡ç†ç³»ç»Ÿ - è‡ªåŠ¨åŒ–æµ‹è¯•æ–¹æ¡ˆ

## ğŸ¯ æ¦‚è¿°

æœ¬æ–‡æ¡£æè¿°äº†æµ·æ£ ä¼ä¸šç®¡ç†ç³»ç»Ÿçš„å®Œæ•´è‡ªåŠ¨åŒ–æµ‹è¯•ç­–ç•¥å’Œå®æ–½æ–¹æ¡ˆï¼Œæ¶µç›–å•å…ƒæµ‹è¯•ã€ç»„ä»¶æµ‹è¯•ã€é›†æˆæµ‹è¯•å’Œç«¯åˆ°ç«¯æµ‹è¯•ã€‚

## ğŸ§ª æµ‹è¯•æ–¹æ¡ˆå¯¹æ¯”

### 1. **Cypress E2E + ç»„ä»¶æµ‹è¯•æ–¹æ¡ˆ** â­â­â­â­â­

**é€‚ç”¨åœºæ™¯ï¼š** å®Œæ•´çš„ç«¯åˆ°ç«¯æµ‹è¯•å’Œç»„ä»¶æµ‹è¯•
**æŠ€æœ¯æ ˆï¼š** Cypress + Vue 3 + TypeScript

#### ç”¨æˆ·æƒé™ç®¡ç†æµ‹è¯•ç¤ºä¾‹
```javascript
// cypress/e2e/user-management.cy.js
describe('ç”¨æˆ·æƒé™ç®¡ç†ä½“ç³»æµ‹è¯•', () => {
  beforeEach(() => {
    cy.visit('/login')
    cy.login('admin', 'password') // è‡ªå®šä¹‰å‘½ä»¤
  })

  it('åº”è¯¥èƒ½å¤Ÿåˆ›å»ºæ–°ç”¨æˆ·', () => {
    cy.visit('/system/user')
    cy.get('[data-cy=add-user-btn]').click()
    cy.get('[data-cy=username-input]').type('testuser')
    cy.get('[data-cy=email-input]').type('test@example.com')
    cy.get('[data-cy=submit-btn]').click()

    cy.contains('ç”¨æˆ·åˆ›å»ºæˆåŠŸ').should('be.visible')
    cy.get('[data-cy=user-table]').should('contain', 'testuser')
  })

  it('åº”è¯¥èƒ½å¤Ÿåˆ†é…ç”¨æˆ·è§’è‰²', () => {
    cy.visit('/system/user')
    cy.get('[data-cy=user-row]').first().find('[data-cy=edit-btn]').click()
    cy.get('[data-cy=role-select]').select('ç®¡ç†å‘˜')
    cy.get('[data-cy=save-btn]').click()

    cy.contains('è§’è‰²åˆ†é…æˆåŠŸ').should('be.visible')
  })
})
```

#### ç»„ä»¶æµ‹è¯•ç¤ºä¾‹
```javascript
// cypress/component/UserForm.cy.js
import { mount } from 'cypress/vue'
import UserForm from '@/components/UserForm.vue'

describe('UserForm ç»„ä»¶æµ‹è¯•', () => {
  it('åº”è¯¥æ­£ç¡®éªŒè¯è¡¨å•è¾“å…¥', () => {
    const onSubmitSpy = cy.spy().as('onSubmitSpy')

    mount(UserForm, {
      props: {
        onSubmit: onSubmitSpy
      }
    })

    cy.get('[data-cy=username-input]').type('admin')
    cy.get('[data-cy=email-input]').type('invalid-email')
    cy.get('[data-cy=submit-btn]').click()

    cy.contains('è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€').should('be.visible')
    cy.get('@onSubmitSpy').should('not.have.been.called')
  })
})
```

### 2. **Playwright è·¨æµè§ˆå™¨æµ‹è¯•æ–¹æ¡ˆ** â­â­â­â­â­

**é€‚ç”¨åœºæ™¯ï¼š** è·¨æµè§ˆå™¨å…¼å®¹æ€§æµ‹è¯•å’Œé«˜çº§E2Eæµ‹è¯•
**æŠ€æœ¯æ ˆï¼š** Playwright + Vue 3 + TypeScript

#### ERPä¸šåŠ¡æµç¨‹æµ‹è¯•ç¤ºä¾‹
```javascript
// tests/e2e/erp-workflow.spec.js
import { test, expect } from '@playwright/test'

test.describe('åŸºç¡€ERPä¸šåŠ¡æµç¨‹æµ‹è¯•', () => {
  test.beforeEach(async ({ page }) => {
    await page.goto('/login')
    await page.fill('[data-testid=username]', 'admin')
    await page.fill('[data-testid=password]', 'password')
    await page.click('[data-testid=login-btn]')
    await expect(page).toHaveURL('/dashboard')
  })

  test('é”€å”®è®¢å•ç®¡ç†æµç¨‹', async ({ page }) => {
    // å¯¼èˆªåˆ°é”€å”®ç®¡ç†
    await page.click('text=é”€å”®ç®¡ç†')
    await page.click('text=è®¢å•ç®¡ç†')

    // åˆ›å»ºæ–°è®¢å•
    await page.click('[data-testid=create-order-btn]')
    await page.fill('[data-testid=customer-input]', 'æµ‹è¯•å®¢æˆ·')
    await page.fill('[data-testid=product-input]', 'æµ‹è¯•äº§å“')
    await page.fill('[data-testid=quantity-input]', '10')

    // æäº¤è®¢å•
    await page.click('[data-testid=submit-order-btn]')
    await expect(page.locator('text=è®¢å•åˆ›å»ºæˆåŠŸ')).toBeVisible()

    // éªŒè¯è®¢å•åˆ—è¡¨
    await expect(page.locator('[data-testid=order-table]')).toContainText('æµ‹è¯•å®¢æˆ·')
  })

  test('åº“å­˜ç®¡ç†åŠŸèƒ½', async ({ page }) => {
    await page.goto('/erp/inventory')

    // æ·»åŠ åº“å­˜
    await page.click('[data-testid=add-inventory-btn]')
    await page.fill('[data-testid=product-name]', 'æµ‹è¯•äº§å“')
    await page.fill('[data-testid=stock-quantity]', '100')
    await page.click('[data-testid=save-btn]')

    // éªŒè¯åº“å­˜è®°å½•
    await expect(page.locator('[data-testid=inventory-table]')).toContainText('æµ‹è¯•äº§å“')
    await expect(page.locator('[data-testid=stock-count]')).toContainText('100')
  })
})
```

#### å“åº”å¼ç•Œé¢æµ‹è¯•ç¤ºä¾‹
```javascript
// tests/component/vue-components.spec.js
import { test, expect } from '@playwright/experimental-ct-vue'
import DataTable from '@/components/DataTable.vue'

test('DataTable ç»„ä»¶å“åº”å¼æµ‹è¯•', async ({ mount, page }) => {
  const component = await mount(DataTable, {
    props: {
      data: [
        { id: 1, name: 'ç”¨æˆ·1', email: 'user1@test.com' },
        { id: 2, name: 'ç”¨æˆ·2', email: 'user2@test.com' }
      ],
      columns: ['name', 'email']
    }
  })

  // æµ‹è¯•æ¡Œé¢è§†å›¾
  await page.setViewportSize({ width: 1200, height: 800 })
  await expect(component.locator('.table-desktop')).toBeVisible()

  // æµ‹è¯•ç§»åŠ¨ç«¯è§†å›¾
  await page.setViewportSize({ width: 375, height: 667 })
  await expect(component.locator('.table-mobile')).toBeVisible()
})
```

### 3. **Vitest å•å…ƒæµ‹è¯• + é›†æˆæµ‹è¯•æ–¹æ¡ˆ** â­â­â­â­

**é€‚ç”¨åœºæ™¯ï¼š** å¿«é€Ÿå•å…ƒæµ‹è¯•å’Œç»„ä»¶æµ‹è¯•
**æŠ€æœ¯æ ˆï¼š** Vitest + Vue Test Utils + jsdom

#### æƒé™ç®¡ç†å·¥å…·å‡½æ•°æµ‹è¯•
```javascript
// tests/unit/utils/auth.test.js
import { describe, it, expect, vi } from 'vitest'
import { validatePermissions, checkUserRole } from '@/utils/auth'

describe('ç”¨æˆ·æƒé™ç®¡ç†å·¥å…·å‡½æ•°', () => {
  it('åº”è¯¥æ­£ç¡®éªŒè¯ç”¨æˆ·æƒé™', () => {
    const user = {
      id: 1,
      roles: ['admin', 'user'],
      permissions: ['user:create', 'user:edit']
    }

    expect(validatePermissions(user, 'user:create')).toBe(true)
    expect(validatePermissions(user, 'user:delete')).toBe(false)
  })

  it('åº”è¯¥æ­£ç¡®æ£€æŸ¥ç”¨æˆ·è§’è‰²', () => {
    const adminUser = { roles: ['admin'] }
    const normalUser = { roles: ['user'] }

    expect(checkUserRole(adminUser, 'admin')).toBe(true)
    expect(checkUserRole(normalUser, 'admin')).toBe(false)
  })
})
```

#### Vueç»„ä»¶å•å…ƒæµ‹è¯•
```javascript
// tests/unit/components/UserForm.test.js
import { describe, it, expect, vi } from 'vitest'
import { mount } from '@vue/test-utils'
import UserForm from '@/components/UserForm.vue'
import { ElForm, ElInput, ElButton } from 'element-plus'

describe('UserForm ç»„ä»¶', () => {
  it('åº”è¯¥æ­£ç¡®æ¸²æŸ“è¡¨å•å­—æ®µ', () => {
    const wrapper = mount(UserForm, {
      global: {
        components: { ElForm, ElInput, ElButton }
      }
    })

    expect(wrapper.find('[data-testid=username-input]').exists()).toBe(true)
    expect(wrapper.find('[data-testid=email-input]').exists()).toBe(true)
    expect(wrapper.find('[data-testid=submit-btn]').exists()).toBe(true)
  })

  it('åº”è¯¥åœ¨æäº¤æ—¶è§¦å‘éªŒè¯', async () => {
    const mockSubmit = vi.fn()
    const wrapper = mount(UserForm, {
      props: { onSubmit: mockSubmit },
      global: {
        components: { ElForm, ElInput, ElButton }
      }
    })

    await wrapper.find('[data-testid=submit-btn]').trigger('click')
    expect(mockSubmit).not.toHaveBeenCalled() // ç©ºè¡¨å•ä¸åº”æäº¤

    await wrapper.find('[data-testid=username-input]').setValue('testuser')
    await wrapper.find('[data-testid=email-input]').setValue('test@example.com')
    await wrapper.find('[data-testid=submit-btn]').trigger('click')

    expect(mockSubmit).toHaveBeenCalledWith({
      username: 'testuser',
      email: 'test@example.com'
    })
  })
})
```

#### APIé›†æˆæµ‹è¯•
```javascript
// tests/integration/api.test.js
import { describe, it, expect, beforeEach, afterEach } from 'vitest'
import { setupServer } from 'msw/node'
import { rest } from 'msw'
import { getUserList, createUser } from '@/api/system/user'

const server = setupServer(
  rest.get('/api/system/user/list', (req, res, ctx) => {
    return res(ctx.json({
      code: 200,
      data: [
        { id: 1, username: 'admin', email: 'admin@test.com' }
      ]
    }))
  }),

  rest.post('/api/system/user', (req, res, ctx) => {
    return res(ctx.json({
      code: 200,
      message: 'ç”¨æˆ·åˆ›å»ºæˆåŠŸ'
    }))
  })
)

beforeEach(() => server.listen())
afterEach(() => server.resetHandlers())

describe('ç”¨æˆ·ç®¡ç† API é›†æˆæµ‹è¯•', () => {
  it('åº”è¯¥èƒ½å¤Ÿè·å–ç”¨æˆ·åˆ—è¡¨', async () => {
    const response = await getUserList()
    expect(response.data).toHaveLength(1)
    expect(response.data[0].username).toBe('admin')
  })

  it('åº”è¯¥èƒ½å¤Ÿåˆ›å»ºæ–°ç”¨æˆ·', async () => {
    const userData = {
      username: 'newuser',
      email: 'newuser@test.com'
    }

    const response = await createUser(userData)
    expect(response.code).toBe(200)
    expect(response.message).toBe('ç”¨æˆ·åˆ›å»ºæˆåŠŸ')
  })
})
```

### 4. **æ··åˆæµ‹è¯•æ–¹æ¡ˆï¼ˆæ¨èï¼‰** â­â­â­â­â­

**ç»„åˆä½¿ç”¨å¤šä¸ªå·¥å…·ï¼Œå‘æŒ¥å„è‡ªä¼˜åŠ¿ï¼š**

#### é…ç½®æ–‡ä»¶ç¤ºä¾‹
```javascript
// package.json æµ‹è¯•è„šæœ¬é…ç½®
{
  "scripts": {
    "test:unit": "vitest",
    "test:unit:ui": "vitest --ui",
    "test:e2e": "cypress run",
    "test:e2e:open": "cypress open",
    "test:component": "cypress run --component",
    "test:browser": "playwright test",
    "test:all": "npm run test:unit && npm run test:e2e && npm run test:browser",
    "test:ci": "npm run test:unit -- --coverage && npm run test:e2e -- --record && npm run test:browser"
  }
}
```

#### Vitesté…ç½®
```javascript
// vitest.config.js
import { defineConfig } from 'vitest/config'
import vue from '@vitejs/plugin-vue'

export default defineConfig({
  plugins: [vue()],
  test: {
    environment: 'jsdom',
    setupFiles: ['./tests/setup.js'],
    coverage: {
      provider: 'v8',
      reporter: ['text', 'json', 'html'],
      exclude: [
        'node_modules/',
        'tests/',
        '**/*.d.ts'
      ]
    },
    globals: true
  }
})
```

#### Cypressé…ç½®
```javascript
// cypress.config.js
import { defineConfig } from 'cypress'

export default defineConfig({
  e2e: {
    baseUrl: 'http://localhost:3000',
    supportFile: 'cypress/support/e2e.js',
    specPattern: 'cypress/e2e/**/*.cy.{js,jsx,ts,tsx}'
  },
  component: {
    devServer: {
      framework: 'vue',
      bundler: 'vite'
    },
    specPattern: 'cypress/component/**/*.cy.{js,jsx,ts,tsx}'
  }
})
```

#### Playwrighté…ç½®
```javascript
// playwright.config.js
import { defineConfig, devices } from '@playwright/test'

export default defineConfig({
  testDir: './tests/e2e',
  fullyParallel: true,
  forbidOnly: !!process.env.CI,
  retries: process.env.CI ? 2 : 0,
  workers: process.env.CI ? 1 : undefined,
  reporter: 'html',
  use: {
    baseURL: 'http://localhost:3000',
    trace: 'on-first-retry'
  },
  projects: [
    {
      name: 'chromium',
      use: { ...devices['Desktop Chrome'] }
    },
    {
      name: 'firefox',
      use: { ...devices['Desktop Firefox'] }
    },
    {
      name: 'webkit',
      use: { ...devices['Desktop Safari'] }
    },
    {
      name: 'Mobile Chrome',
      use: { ...devices['Pixel 5'] }
    }
  ]
})
```

## ğŸ“Š æµ‹è¯•æ–¹æ¡ˆå¯¹æ¯”è¡¨

| æµ‹è¯•ç±»å‹ | Vitest | Cypress | Playwright | æ¨èåœºæ™¯ |
|---------|--------|---------|------------|----------|
| å•å…ƒæµ‹è¯• | â­â­â­â­â­ | â­â­ | â­â­â­ | å·¥å…·å‡½æ•°ã€ç»„ä»¶é€»è¾‘ |
| ç»„ä»¶æµ‹è¯• | â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­ | Vueç»„ä»¶äº¤äº’ |
| E2Eæµ‹è¯• | â­â­ | â­â­â­â­â­ | â­â­â­â­â­ | å®Œæ•´ä¸šåŠ¡æµç¨‹ |
| è·¨æµè§ˆå™¨ | â­ | â­â­â­ | â­â­â­â­â­ | å…¼å®¹æ€§æµ‹è¯• |
| æ‰§è¡Œé€Ÿåº¦ | â­â­â­â­â­ | â­â­â­ | â­â­â­â­ | å¿«é€Ÿåé¦ˆ |
| è°ƒè¯•ä½“éªŒ | â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­ | å¼€å‘è°ƒè¯• |

## ğŸ¯ é’ˆå¯¹æµ·æ£ ç³»ç»Ÿå››ä¸ªæ ¸å¿ƒåŠŸèƒ½çš„æµ‹è¯•å»ºè®®

### 1. **å®Œæ•´çš„ç”¨æˆ·æƒé™ç®¡ç†ä½“ç³»**
- **æ¨èæ–¹æ¡ˆï¼š** Cypress E2E + Vitest å•å…ƒæµ‹è¯•
- **æµ‹è¯•é‡ç‚¹ï¼š**
  - ç”¨æˆ·ç™»å½•/ç™»å‡ºæµç¨‹
  - è§’è‰²æƒé™åˆ†é…
  - æƒé™éªŒè¯é€»è¾‘
  - èœå•æƒé™æ§åˆ¶

### 2. **åŸºç¡€ERPä¸šåŠ¡æµç¨‹**
- **æ¨èæ–¹æ¡ˆï¼š** Playwright è·¨æµè§ˆå™¨ + Cypress ç»„ä»¶æµ‹è¯•
- **æµ‹è¯•é‡ç‚¹ï¼š**
  - é”€å”®è®¢å•ç®¡ç†æµç¨‹
  - åº“å­˜ç®¡ç†åŠŸèƒ½
  - æ•°æ®æµè½¬éªŒè¯
  - ä¸šåŠ¡è§„åˆ™æ ¡éªŒ

### 3. **ç³»ç»Ÿç›‘æ§å’Œæ—¥å¿—ç®¡ç†**
- **æ¨èæ–¹æ¡ˆï¼š** Vitest é›†æˆæµ‹è¯• + Playwright APIæµ‹è¯•
- **æµ‹è¯•é‡ç‚¹ï¼š**
  - æ—¥å¿—è®°å½•åŠŸèƒ½
  - ç›‘æ§æ•°æ®æ”¶é›†
  - å¼‚å¸¸å¤„ç†æœºåˆ¶
  - æ€§èƒ½æŒ‡æ ‡ç›‘æ§

### 4. **å“åº”å¼å‰ç«¯ç•Œé¢**
- **æ¨èæ–¹æ¡ˆï¼š** Playwright è§†å£æµ‹è¯• + Cypress ç»„ä»¶æµ‹è¯•
- **æµ‹è¯•é‡ç‚¹ï¼š**
  - å¤šè®¾å¤‡é€‚é…
  - ç•Œé¢äº¤äº’å“åº”
  - ç»„ä»¶çŠ¶æ€ç®¡ç†
  - ç”¨æˆ·ä½“éªŒéªŒè¯

## ğŸš€ å®æ–½å»ºè®®

### é˜¶æ®µä¸€ï¼šåŸºç¡€æµ‹è¯•æ¡†æ¶æ­å»ºï¼ˆæ¨èä»è¿™é‡Œå¼€å§‹ï¼‰
1. **å®‰è£… Vitest + Cypress ç»„åˆ**
2. **å»ºç«‹åŸºæœ¬çš„æµ‹è¯•ç›®å½•ç»“æ„**
3. **ç¼–å†™æ ¸å¿ƒå·¥å…·å‡½æ•°çš„å•å…ƒæµ‹è¯•**
4. **åˆ›å»ºå…³é”®ç»„ä»¶çš„æµ‹è¯•ç”¨ä¾‹**

### é˜¶æ®µäºŒï¼šæ‰©å±•æµ‹è¯•è¦†ç›–
1. **æ·»åŠ  E2E æµ‹è¯•ç”¨ä¾‹**
2. **é›†æˆ API æµ‹è¯•**
3. **å»ºç«‹æµ‹è¯•æ•°æ®ç®¡ç†**
4. **é…ç½®æŒç»­é›†æˆ**

### é˜¶æ®µä¸‰ï¼šé«˜çº§æµ‹è¯•åŠŸèƒ½
1. **å¼•å…¥ Playwright è¿›è¡Œè·¨æµè§ˆå™¨æµ‹è¯•**
2. **æ·»åŠ æ€§èƒ½æµ‹è¯•**
3. **å»ºç«‹æµ‹è¯•æŠ¥å‘Šç³»ç»Ÿ**
4. **ä¼˜åŒ–æµ‹è¯•æ‰§è¡Œæ•ˆç‡**

## ğŸ“ æµ‹è¯•ç›®å½•ç»“æ„

```
tests/
â”œâ”€â”€ unit/                    # Vitest å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°æµ‹è¯•
â”‚   â”œâ”€â”€ components/         # ç»„ä»¶å•å…ƒæµ‹è¯•
â”‚   â””â”€â”€ stores/             # çŠ¶æ€ç®¡ç†æµ‹è¯•
â”œâ”€â”€ integration/            # é›†æˆæµ‹è¯•
â”‚   â”œâ”€â”€ api/               # API é›†æˆæµ‹è¯•
â”‚   â””â”€â”€ workflows/         # ä¸šåŠ¡æµç¨‹æµ‹è¯•
â”œâ”€â”€ e2e/                   # ç«¯åˆ°ç«¯æµ‹è¯•
â”‚   â”œâ”€â”€ user-management/   # ç”¨æˆ·ç®¡ç†æµ‹è¯•
â”‚   â”œâ”€â”€ erp/              # ERP åŠŸèƒ½æµ‹è¯•
â”‚   â””â”€â”€ monitoring/       # ç›‘æ§åŠŸèƒ½æµ‹è¯•
â”œâ”€â”€ fixtures/              # æµ‹è¯•æ•°æ®
â”œâ”€â”€ support/               # æµ‹è¯•è¾…åŠ©å·¥å…·
â””â”€â”€ config/                # æµ‹è¯•é…ç½®æ–‡ä»¶
```

## ğŸ”§ æµ‹è¯•å‘½ä»¤

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm run test:all

# è¿è¡Œå•å…ƒæµ‹è¯•
npm run test:unit

# è¿è¡Œå•å…ƒæµ‹è¯•ï¼ˆå¸¦UIç•Œé¢ï¼‰
npm run test:unit:ui

# è¿è¡Œç»„ä»¶æµ‹è¯•
npm run test:component

# è¿è¡ŒE2Eæµ‹è¯•
npm run test:e2e

# æ‰“å¼€Cypressæµ‹è¯•ç•Œé¢
npm run test:e2e:open

# è¿è¡Œè·¨æµè§ˆå™¨æµ‹è¯•
npm run test:browser

# CIç¯å¢ƒæµ‹è¯•ï¼ˆåŒ…å«è¦†ç›–ç‡ï¼‰
npm run test:ci
```

## ğŸ“ˆ æµ‹è¯•è¦†ç›–ç‡ç›®æ ‡

- **å•å…ƒæµ‹è¯•è¦†ç›–ç‡ï¼š** â‰¥ 80%
- **ç»„ä»¶æµ‹è¯•è¦†ç›–ç‡ï¼š** â‰¥ 70%
- **E2Eæµ‹è¯•è¦†ç›–ç‡ï¼š** ä¸»è¦ä¸šåŠ¡æµç¨‹ 100%
- **APIæµ‹è¯•è¦†ç›–ç‡ï¼š** æ ¸å¿ƒæ¥å£ 100%

## ğŸ‰ æ€»ç»“

å»ºè®®æ‚¨ä» **Vitest + Cypress** çš„ç»„åˆå¼€å§‹å®æ–½è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œè¿™æ ·å¯ä»¥ï¼š

1. **å¿«é€Ÿå»ºç«‹æµ‹è¯•åŸºç¡€** - Vitest æä¾›å¿«é€Ÿçš„å•å…ƒæµ‹è¯•åé¦ˆ
2. **ä¿è¯ç»„ä»¶è´¨é‡** - Cypress æä¾›ä¼˜ç§€çš„ç»„ä»¶æµ‹è¯•ä½“éªŒ
3. **è¦†ç›–å…³é”®æµç¨‹** - E2E æµ‹è¯•ç¡®ä¿ä¸šåŠ¡æµç¨‹æ­£ç¡®
4. **é€æ­¥æ‰©å±•** - åç»­å¯ä»¥å¼•å…¥ Playwright è¿›è¡Œæ›´å…¨é¢çš„æµ‹è¯•

è¿™ç§æ¸è¿›å¼çš„æµ‹è¯•ç­–ç•¥æ—¢èƒ½å¿«é€Ÿè§æ•ˆï¼Œåˆèƒ½ä¸ºåç»­çš„æµ‹è¯•æ‰©å±•æ‰“ä¸‹åšå®åŸºç¡€ã€‚

## ğŸš€ ç«‹å³å¼€å§‹å®æ–½

æˆ‘å·²ç»ä¸ºæ‚¨åˆ›å»ºäº†å®Œæ•´çš„æµ‹è¯•æ¡†æ¶ï¼ŒåŒ…æ‹¬ï¼š

### ğŸ“ å·²åˆ›å»ºçš„æ–‡ä»¶ç»“æ„
```
tests/
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ vitest.config.js      # âœ… Vitest é…ç½®
â”‚   â””â”€â”€ cypress.config.js     # âœ… Cypress é…ç½®
â”œâ”€â”€ support/
â”‚   â”œâ”€â”€ setup.js             # âœ… æµ‹è¯•ç¯å¢ƒè®¾ç½®
â”‚   â”œâ”€â”€ e2e.js               # âœ… E2E æµ‹è¯•æ”¯æŒ
â”‚   â””â”€â”€ commands.js          # âœ… è‡ªå®šä¹‰å‘½ä»¤
â”œâ”€â”€ unit/
â”‚   â”œâ”€â”€ utils/auth.test.js   # âœ… æƒé™å·¥å…·æµ‹è¯•
â”‚   â””â”€â”€ components/UserForm.test.js # âœ… ç»„ä»¶æµ‹è¯•
â”œâ”€â”€ integration/
â”‚   â””â”€â”€ api/user.test.js     # âœ… API é›†æˆæµ‹è¯•
â”œâ”€â”€ e2e/
â”‚   â””â”€â”€ user-management.cy.js # âœ… ç”¨æˆ·ç®¡ç†E2Eæµ‹è¯•
â”œâ”€â”€ fixtures/
â”‚   â””â”€â”€ users.json           # âœ… æµ‹è¯•æ•°æ®
â”œâ”€â”€ package.json             # âœ… æµ‹è¯•ä¾èµ–å’Œè„šæœ¬
â””â”€â”€ README.md               # âœ… è¯¦ç»†ä½¿ç”¨æ–‡æ¡£
```

### ğŸ¯ ä¸‹ä¸€æ­¥æ“ä½œ

1. **å®‰è£…æµ‹è¯•ä¾èµ–**
```bash
cd tests
npm install
```

2. **è¿è¡Œç¬¬ä¸€ä¸ªæµ‹è¯•**
```bash
# è¿è¡Œå•å…ƒæµ‹è¯•
npm run test:unit

# æ‰“å¼€ Cypress ç•Œé¢
npm run test:e2e:open
```

3. **æ ¹æ®å®é™…é¡¹ç›®è°ƒæ•´**
- ä¿®æ”¹ API è·¯å¾„å’Œç»„ä»¶å¯¼å…¥è·¯å¾„
- è°ƒæ•´æµ‹è¯•æ•°æ®ä»¥åŒ¹é…å®é™…æ•°æ®ç»“æ„
- æ·»åŠ é¡¹ç›®ç‰¹å®šçš„è‡ªå®šä¹‰å‘½ä»¤

4. **é›†æˆåˆ° CI/CD**
```bash
# åœ¨ CI ç¯å¢ƒè¿è¡Œ
npm run test:ci
```

### ğŸ“‹ å®æ–½æ£€æŸ¥æ¸…å•

- [ ] å®‰è£…æµ‹è¯•ä¾èµ–åŒ…
- [ ] é…ç½®æµ‹è¯•ç¯å¢ƒ
- [ ] è¿è¡Œç¤ºä¾‹æµ‹è¯•
- [ ] è°ƒæ•´é…ç½®ä»¥åŒ¹é…é¡¹ç›®
- [ ] æ·»åŠ æ›´å¤šæµ‹è¯•ç”¨ä¾‹
- [ ] é›†æˆåˆ° CI/CD æµç¨‹
- [ ] è®¾ç½®è¦†ç›–ç‡ç›®æ ‡
- [ ] åŸ¹è®­å›¢é˜Ÿä½¿ç”¨æµ‹è¯•å·¥å…·

ç°åœ¨æ‚¨å¯ä»¥ç«‹å³å¼€å§‹ä½¿ç”¨è¿™å¥—å®Œæ•´çš„è‡ªåŠ¨åŒ–æµ‹è¯•æ–¹æ¡ˆï¼