# macOS 构建环境配置文件
# 在构建前加载此文件: source .env.build

# Node.js 堆内存配置（MB）
# 根据系统可用内存调整，建议 4096-6144
export NODE_OPTIONS="--max-old-space-size=4096"

# electron-builder 缓存目录
export ELECTRON_BUILDER_CACHE_DIR="$HOME/.electron-builder-cache"

# 允许未解析的依赖
export ELECTRON_BUILDER_ALLOW_UNRESOLVED_DEPENDENCIES=true

# Vite 应用环境
export VITE_APP_ENV=electron

# 系统资源限制
# 文件描述符限制
export ULIMIT_N=4096

# 进程限制
export ULIMIT_U=2048

# npm 相关配置
export npm_config_prefer_offline=true
export npm_config_no_audit=true

# 调试选项（可选）
# export DEBUG=electron-builder

# 代码签名配置（可选，需要 Apple 开发者账户）
# export CSC_LINK=path/to/certificate.p12
# export CSC_KEY_PASSWORD=your_password
# export APPLE_ID=your_apple_id
# export APPLE_ID_PASSWORD=your_app_specific_password
# export APPLE_TEAM_ID=your_team_id

