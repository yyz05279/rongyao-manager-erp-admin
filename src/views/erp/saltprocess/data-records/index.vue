<template>
  <div style="padding: 20px; background: white; min-height: 500px;" class="salt-data-records">
    <h1 style="color: #409eff; margin-bottom: 20px;">ğŸ§ª åŒ–ç›é¡¹ç›®æ•°æ®è®°å½•ç³»ç»Ÿ</h1>

    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-bottom: 30px;" data-stats="true">
      <!-- é¢„çƒ­è®°å½•å¡ç‰‡ - æš‚ä¸æ·»åŠ è·³è½¬åŠŸèƒ½ -->
      <div style="background: #f8fafc; padding: 20px; border-radius: 8px; text-align: center; border: 2px solid #e2e8f0;" data-card="preheating">
        <h2 style="color: #3b82f6; margin: 0 0 10px 0;">156</h2>
        <p style="margin: 0; color: #64748b;">é¢„çƒ­è®°å½•</p>
      </div>

      <!-- äºŒå…ƒåŒ–ç›è®°å½•å¡ç‰‡ - å¯ç‚¹å‡»è·³è½¬ -->
      <div
        style="background: #f8fafc; padding: 20px; border-radius: 8px; text-align: center; border: 2px solid #e2e8f0; cursor: pointer; transition: all 0.3s ease;"
        data-card="binary"
        @click="navigateToBinaryRecords"
        @mouseenter="onCardHover"
        @mouseleave="onCardLeave"
        class="clickable-card"
      >
        <h2 style="color: #10b981; margin: 0 0 10px 0;">89</h2>
        <p style="margin: 0; color: #64748b;">äºŒå…ƒåŒ–ç›è®°å½•</p>
        <p style="margin: 5px 0 0 0; color: #10b981; font-size: 12px; opacity: 0.8;">ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ… â†’</p>
      </div>

      <!-- ä¸‰å…ƒåŒ–ç›è®°å½•å¡ç‰‡ - å¯ç‚¹å‡»è·³è½¬ -->
      <div
        style="background: #f8fafc; padding: 20px; border-radius: 8px; text-align: center; border: 2px solid #e2e8f0; cursor: pointer; transition: all 0.3s ease;"
        data-card="ternary"
        @click="navigateToTernaryRecords"
        @mouseenter="onCardHover"
        @mouseleave="onCardLeave"
        class="clickable-card"
      >
        <h2 style="color: #f59e0b; margin: 0 0 10px 0;">67</h2>
        <p style="margin: 0; color: #64748b;">ä¸‰å…ƒåŒ–ç›è®°å½•</p>
        <p style="margin: 5px 0 0 0; color: #f59e0b; font-size: 12px; opacity: 0.8;">ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ… â†’</p>
      </div>

      <!-- è´¨é‡åˆæ ¼ç‡å¡ç‰‡ - æš‚ä¸æ·»åŠ è·³è½¬åŠŸèƒ½ -->
      <div style="background: #f8fafc; padding: 20px; border-radius: 8px; text-align: center; border: 2px solid #e2e8f0;" data-card="quality">
        <h2 style="color: #ef4444; margin: 0 0 10px 0;">96.8%</h2>
        <p style="margin: 0; color: #64748b;">è´¨é‡åˆæ ¼ç‡</p>
      </div>
    </div>

    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 30px;">
      <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #d1d5db; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
        <h3 style="color: #1f2937; margin: 0 0 15px 0;">ğŸ”¥ é¢„çƒ­æ•°æ®è®°å½•</h3>
        <p style="color: #6b7280; margin: 0 0 10px 0;">ç®¡ç†ç†”ç›ç½é¢„çƒ­è¿‡ç¨‹çš„æ¸©åº¦ã€å‹åŠ›ã€èƒ½è€—ç­‰å…³é”®æ•°æ®è®°å½•</p>
        <p style="color: #374151; margin: 0; font-size: 14px;"><strong>ä»Šæ—¥è®°å½•:</strong> 12 | <strong>å¹³å‡æ¸©åº¦:</strong> 448.5Â°C</p>
      </div>
      <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #d1d5db; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
        <h3 style="color: #1f2937; margin: 0 0 15px 0;">âš—ï¸ äºŒå…ƒåŒ–ç›è®°å½•</h3>
        <p style="color: #6b7280; margin: 0 0 10px 0;">è®°å½•NaNO3å’ŒKNO3äºŒå…ƒåŒ–ç›ç”Ÿäº§è¿‡ç¨‹çš„é…æ¯”ã€ååº”ã€è´¨é‡æ•°æ®</p>
        <p style="color: #374151; margin: 0; font-size: 14px;"><strong>ä»Šæ—¥äº§é‡:</strong> 2580kg | <strong>äº§å‡ºç‡:</strong> 94.2%</p>
      </div>
      <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #d1d5db; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
        <h3 style="color: #1f2937; margin: 0 0 15px 0;">ğŸ§¬ ä¸‰å…ƒåŒ–ç›è®°å½•</h3>
        <p style="color: #6b7280; margin: 0 0 10px 0;">ç®¡ç†NaNO3ã€KNO3ã€NaNO2ä¸‰å…ƒåŒ–ç›ç”Ÿäº§çš„å®Œæ•´å·¥è‰ºæ•°æ®</p>
        <p style="color: #374151; margin: 0; font-size: 14px;"><strong>ä»Šæ—¥äº§é‡:</strong> 1890kg | <strong>ç¨³å®šæ€§æŒ‡æ•°:</strong> 8.7</p>
      </div>
    </div>

    <!-- <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px;">
      <button style="padding: 15px; background: #3b82f6; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 500;">â• æ–°å¢é¢„çƒ­è®°å½•</button>
      <button style="padding: 15px; background: #10b981; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 500;">â• æ–°å¢äºŒå…ƒè®°å½•</button>
      <button style="padding: 15px; background: #f59e0b; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 500;">â• æ–°å¢ä¸‰å…ƒè®°å½•</button>
      <button style="padding: 15px; background: #6b7280; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 500;">ğŸ“Š æ•°æ®å¯¼å‡º</button>
    </div> -->
  </div>
</template>

<script setup name="SaltDataRecords">
import { ref, onMounted, onBeforeMount, onBeforeUnmount } from 'vue';
import { useRouter } from 'vue-router';

// æç®€ç‰ˆæœ¬ - åŒ–ç›æ•°æ®è®°å½•é¡µé¢
console.log('ğŸš€ [SaltDataRecords] å¼€å§‹åŠ è½½åŒ–ç›æ•°æ®è®°å½•é¡µé¢...');
console.log('ğŸš€ [SaltDataRecords] å½“å‰æ—¶é—´:', new Date().toLocaleString());
console.log('ğŸš€ [SaltDataRecords] å½“å‰URL:', window.location.href);
console.log('ğŸš€ [SaltDataRecords] ç»„ä»¶åç§°:', 'SaltDataRecords');

// è·¯ç”±å®ä¾‹
const router = useRouter();

// å“åº”å¼æ•°æ®
const currentTime = ref(new Date().toLocaleString());
const componentStatus = ref('åˆå§‹åŒ–ä¸­...');

// å¡ç‰‡ç‚¹å‡»è·³è½¬æ–¹æ³•
const navigateToBinaryRecords = () => {
  console.log('ğŸ”— [SaltDataRecords] è·³è½¬åˆ°äºŒå…ƒåŒ–ç›è®°å½•é¡µé¢');
  router.push('/saltprocess/binary-records');
};

const navigateToTernaryRecords = () => {
  console.log('ğŸ”— [SaltDataRecords] è·³è½¬åˆ°ä¸‰å…ƒåŒ–ç›è®°å½•é¡µé¢');
  router.push('/saltprocess/ternary-records');
};

// å¡ç‰‡æ‚¬åœæ•ˆæœ
const onCardHover = (event) => {
  event.target.style.transform = 'translateY(-2px)';
  event.target.style.boxShadow = '0 4px 12px rgba(0, 0, 0, 0.15)';
  event.target.style.borderColor = '#3b82f6';
};

const onCardLeave = (event) => {
  event.target.style.transform = 'translateY(0)';
  event.target.style.boxShadow = 'none';
  event.target.style.borderColor = '#e2e8f0';
};

onBeforeMount(() => {
  console.log('ğŸ”„ [SaltDataRecords] onBeforeMount - ç»„ä»¶å³å°†æŒ‚è½½');
  componentStatus.value = 'å³å°†æŒ‚è½½...';
});

onMounted(() => {
  console.log('âœ… [SaltDataRecords] onMounted - ç»„ä»¶å·²æˆåŠŸæŒ‚è½½åˆ°DOM');
  componentStatus.value = 'å·²æŒ‚è½½æˆåŠŸ';

  // æ›´æ–°æ—¶é—´
  setInterval(() => {
    currentTime.value = new Date().toLocaleString();
  }, 1000);

  console.log('âœ… [SaltDataRecords] DOMå…ƒç´ æ£€æŸ¥:', document.querySelector('.salt-data-records'));

  // æ£€æŸ¥é¡µé¢å…ƒç´ æ˜¯å¦å­˜åœ¨
  setTimeout(() => {
    const titleElement = document.querySelector('h1');
    const statsElements = document.querySelectorAll('[data-stats]');
    const debugElement = document.querySelector('.salt-data-records');

    console.log('ğŸ” [SaltDataRecords] é¡µé¢å…ƒç´ æ£€æŸ¥:');
    console.log('  - æ ¹å…ƒç´ :', debugElement);
    console.log('  - æ ‡é¢˜å…ƒç´ :', titleElement);
    console.log('  - ç»Ÿè®¡å¡ç‰‡æ•°é‡:', statsElements.length);
    console.log('  - é¡µé¢å†…å®¹åŒ…å«ç›®æ ‡æ–‡å­—:', document.body.innerHTML.includes('åŒ–ç›é¡¹ç›®æ•°æ®è®°å½•ç³»ç»Ÿ'));
    console.log('  - å®Œæ•´é¡µé¢HTMLé•¿åº¦:', document.body.innerHTML.length);

    componentStatus.value = `å·²å®Œæˆæ£€æŸ¥ - æ‰¾åˆ°${statsElements.length}ä¸ªç»Ÿè®¡å¡ç‰‡`;
  }, 100);
});

onBeforeUnmount(() => {
  console.log('ğŸ”„ [SaltDataRecords] onBeforeUnmount - ç»„ä»¶å³å°†å¸è½½');
});

console.log('âœ… [SaltDataRecords] è„šæœ¬æ‰§è¡Œå®Œæˆï¼Œç­‰å¾…ç»„ä»¶æŒ‚è½½...');
</script>

<style scoped>
/* å¯ç‚¹å‡»å¡ç‰‡æ ·å¼ */
.clickable-card {
  position: relative;
  user-select: none;
}

.clickable-card:hover {
  transform: translateY(-2px) !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
  border-color: #3b82f6 !important;
}

.clickable-card:active {
  transform: translateY(0) !important;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1) !important;
}

/* ä¸ºå¯ç‚¹å‡»å¡ç‰‡æ·»åŠ å¾®å¦™çš„åŠ¨ç”»æ•ˆæœ */
.clickable-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(45deg, transparent 30%, rgba(59, 130, 246, 0.05) 50%, transparent 70%);
  opacity: 0;
  transition: opacity 0.3s ease;
  border-radius: 8px;
  pointer-events: none;
}

.clickable-card:hover::before {
  opacity: 1;
}
</style>